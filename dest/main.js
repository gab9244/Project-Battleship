(()=>{const e=document.getElementById("body"),t=document.createElement("header");let n=document.createElement("img");n.src="/imagens/bs_logo.46ed26ed.png";const r=document.createElement("form");r.action="#",r.method="get";const d=document.createElement("div");d.setAttribute("id","inputDiv");let c=document.createElement("input");c.type="text",c.required=!0;let o=document.createElement("button");o.textContent="Start Game",o.setAttribute("id","startGame");const a=document.createElement("div");a.setAttribute("id","GamePage");const i=document.createElement("h1"),s=document.createElement("div");s.setAttribute("id","options");const l=document.createElement("button");l.textContent="Flip";const u=document.createElement("button");u.textContent="Start";const m=document.createElement("div");m.setAttribute("id","buttonsContainer"),m.append(l,u);let p=0;l.addEventListener("click",(function(){const e=Array.from(document.querySelectorAll("#options div"));p=0===p?90:0,e.forEach((e=>e.style.transform=`rotate(${p}deg)`))}));const b=document.createElement("div");b.setAttribute("class","carrir-preview"),b.setAttribute("draggable","true");const v=document.createElement("div");v.setAttribute("class","battleship-preview"),v.setAttribute("draggable","true");const E=document.createElement("div");E.setAttribute("class","cruiser-preview"),E.setAttribute("draggable","true");const g=document.createElement("div");g.setAttribute("class","submarine-preview"),g.setAttribute("draggable","true");const h=document.createElement("div");h.setAttribute("class","destroyer-preview"),h.setAttribute("draggable","true"),document.querySelectorAll("#options div").forEach((e=>{e.addEventListener("dragend",(()=>{})),e.addEventListener("dragstart",(e=>{90===p&&(e.style.transform="rotate(90deg)")}))})),s.append(b,v,E,g,h);const y=document.createElement("div");y.setAttribute("id","player"),a.style.display="none";const A=document.createElement("div");A.setAttribute("id","playerDiv"),A.append(i,y,s,m);const f=document.createElement("div");f.setAttribute("id","computer"),o.addEventListener("click",(()=>{c.value.length>1&&(t.style.display="none",a.style.display="flex",i.textContent=c.value)})),function(){for(let e=0;e<100;e++){let t=document.createElement("div");t.setAttribute("id",[e]),document.querySelectorAll("#player div").forEach((e=>{e.addEventListener("dragover",(e=>{e.preventDefault()}))})),y.appendChild(t)}for(const e of y.children)e.addEventListener("click",(()=>{e.style.backgroundColor="red"}))}(),function(){for(let e=0;e<100;e++){let t=document.createElement("div");t.setAttribute("id",[e]),f.appendChild(t)}for(const e of f.children)e.addEventListener("click",(()=>{e.style.backgroundColor="red"}))}(),a.append(A,f),d.appendChild(c),r.append(c,o),t.append(n,d,r),e.append(t,a);class w{constructor(e,t){this.name=e,this.length=t}}function C(e){const t=document.querySelectorAll("#computer div");let n,r=Math.random()<.5,d=Math.floor(100*Math.random()),c=r?d<=100-e.length?d:100-e.length:d<=100-10*e.length?d:d-10*e.length+10,o=[];for(let n=0;n<e.length;n++)r?o.push(t[Number(c)+n]):o.push(t[Number(c)+10*n]);r?o.every(((e,t)=>n=o[0].id%10!=10-(o.length-(t+1)))):o.every(((e,t)=>n=o[0].id<10*t+1+90));const a=o.every((e=>!e.classList.contains("taken")));n&&a?o.forEach((t=>{t.classList.add(e.name),t.classList.add("taken")})):C(e)}[new w("destroyer",2),new w("submarine",3),new w("cruiser",3),new w("battleship",4),new w("carrir",5)].forEach((e=>C(e)))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUtHLE1BQXNCLElBQWhCSCxLQUFLQyxVQUVuQ0csRUFBYUwsRUFBZUcsR0FBb0IsSUFBTU4sRUFBS2xCLE9BQVN3QixFQUFtQixJQUFNTixFQUFLbEIsT0FFdEd3QixHQUFvQixJQUFNLEdBQUtOLEVBQUtsQixPQUFTd0IsRUFDN0NBLEVBQWlDLEdBQWROLEVBQUtsQixPQUFjLEdBRWxDMkIsRUFBYSxHQUVqQixJQUFJLElBQUkxQixFQUFJLEVBQUdBLEVBQUlpQixFQUFLbEIsT0FBUUMsSUFDekJvQixFQUNDTSxFQUFXQyxLQUFLVCxFQUFlVSxPQUFPSCxHQUFjekIsSUFHcEQwQixFQUFXQyxLQUFLVCxFQUFlVSxPQUFPSCxHQUFpQixHQUFIekIsSUFJekRvQixFQUNDTSxFQUFXRyxPQUFNLENBQUNDLEVBQVlDLElBQVVaLEVBQVFPLEVBQVcsR0FBR00sR0FBSyxJQUFPLElBQ3pFTixFQUFXM0IsUUFBVWdDLEVBQVEsTUFHOUJMLEVBQVdHLE9BQU0sQ0FBQ0MsRUFBWUMsSUFBVVosRUFBUU8sRUFBVyxHQUFHTSxHQUFXLEdBQUtELEVBQVEsRUFBbkIsS0FHdkUsTUFBTUUsRUFBVVAsRUFBV0csT0FBTUssSUFBY0EsRUFBVUMsVUFBVUMsU0FBUyxXQUV6RWpCLEdBQVNjLEVBQ1JQLEVBQVcxQyxTQUFRa0QsSUFDZkEsRUFBVUMsVUFBVUUsSUFBSXBCLEVBQUtKLE1BQzdCcUIsRUFBVUMsVUFBVUUsSUFBSSxRQUFPLElBR25DckIsRUFBYUMsRUFJckIsQ0EvQ2MsQ0FQSSxJQUFJTixFQUFZLFlBQVksR0FDNUIsSUFBSUEsRUFBWSxZQUFZLEdBQzlCLElBQUlBLEVBQVksVUFBVSxHQUN2QixJQUFJQSxFQUFZLGFBQWEsR0FDakMsSUFBSUEsRUFBWSxTQUFTLElBb0RsQzNCLFNBQVNpQyxHQUFRRCxFQUFhQyxJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvamVjdC1iYXR0bGVzaGlwLy4vc3JjL2NvZGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy9QcmltZWlyYSBwYXJ0ZSBkbyBqb2dvXHJcbmNvbnN0IGJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYm9keScpXHJcbmNvbnN0IGhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2hlYWRlcicpO1xyXG5sZXQgbG9nbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpXHJcbmxvZ28uc3JjID0gJy9pbWFnZW5zL2JzX2xvZ28uNDZlZDI2ZWQucG5nJ1xyXG5cclxuY29uc3QgZm9ybXVsYXJpbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKVxyXG5mb3JtdWxhcmlvLmFjdGlvbiA9ICcjJ1xyXG5mb3JtdWxhcmlvLm1ldGhvZCA9ICdnZXQnXHJcblxyXG5jb25zdCBpbnB1dERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcbmlucHV0RGl2LnNldEF0dHJpYnV0ZSgnaWQnLCAnaW5wdXREaXYnKVxyXG5cclxubGV0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKVxyXG5pbnB1dC50eXBlID0gJ3RleHQnXHJcbmlucHV0LnJlcXVpcmVkID0gdHJ1ZVxyXG5cclxuXHJcbmxldCBzdGFydEdhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKVxyXG5zdGFydEdhbWUudGV4dENvbnRlbnQgPSAnU3RhcnQgR2FtZSdcclxuc3RhcnRHYW1lLnNldEF0dHJpYnV0ZSgnaWQnLCdzdGFydEdhbWUnKVxyXG5cclxuLy9TZWd1bmRhIHBhcnRlIGRvIGpvZ29cclxuLy9wbGF5ZXIgc2Vyw6EgbyBjb3JwbyBkbyB0YWJ1bGVpcm8gZW5xdWFudG8gZGl2cyBzZXJhbSBvcyBxdWFkcmFkb3MgZG8gdGFidWxlaXJvXHJcbmNvbnN0IEdhbWVQYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuR2FtZVBhZ2Uuc2V0QXR0cmlidXRlKCdpZCcsJ0dhbWVQYWdlJylcclxuXHJcbmNvbnN0IHBsYXllck5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMScpXHJcblxyXG5jb25zdCBvcHRpb25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jylcclxub3B0aW9ucy5zZXRBdHRyaWJ1dGUoJ2lkJywnb3B0aW9ucycpXHJcblxyXG5jb25zdCBmbGlwQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJylcclxuZmxpcEJ1dHRvbi50ZXh0Q29udGVudCA9ICdGbGlwJ1xyXG5cclxuY29uc3Qgc3RhcnRCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKVxyXG5zdGFydEJ1dHRvbi50ZXh0Q29udGVudCA9ICdTdGFydCdcclxuXHJcbmNvbnN0IGJ1dHRvbnNDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG5idXR0b25zQ29udGFpbmVyLnNldEF0dHJpYnV0ZSgnaWQnLCdidXR0b25zQ29udGFpbmVyJylcclxuXHJcbmJ1dHRvbnNDb250YWluZXIuYXBwZW5kKGZsaXBCdXR0b24sc3RhcnRCdXR0b24pXHJcblxyXG4vL0EgZnVuw6fDo28gZmxpcCBzZXJ2ZSBwYXJhIG11ZGFyIG9zIGJhcmNvcyBkYSBob3Jpem9udGFsIHBhcmEgYSB2ZXJ0aWNhbCBlIHZpc2UtdmVyc2FcclxubGV0IGFuZ2xlID0gMFxyXG5mdW5jdGlvbiBmbGlwKCl7XHJcbiAgIGNvbnN0IG9wdGlvblNoaXBzPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNvcHRpb25zIGRpdicpKVxyXG4gICBhbmdsZSA9IGFuZ2xlID09PSAwID8gOTAgOiAwXHJcbiAgIG9wdGlvblNoaXBzLmZvckVhY2gob3B0aW9uU2hpcCA9PiBvcHRpb25TaGlwLnN0eWxlLnRyYW5zZm9ybSA9IGByb3RhdGUoJHthbmdsZX1kZWcpYClcclxufVxyXG5mbGlwQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxmbGlwKVxyXG5cclxuLy9PcyBiYXJjb3MgcXVlIGZpY2FtIG5hIGJhcnJhIG9wdGlvbnNcclxuIGNvbnN0IGNhcnJpclByZXZpZXcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG5jYXJyaXJQcmV2aWV3LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2FycmlyLXByZXZpZXcnKVxyXG5jYXJyaXJQcmV2aWV3LnNldEF0dHJpYnV0ZSgnZHJhZ2dhYmxlJywndHJ1ZScpXHJcblxyXG4gY29uc3QgYmF0dGxlc2hpcFByZXZpZXcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG5iYXR0bGVzaGlwUHJldmlldy5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2JhdHRsZXNoaXAtcHJldmlldycpXHJcbmJhdHRsZXNoaXBQcmV2aWV3LnNldEF0dHJpYnV0ZSgnZHJhZ2dhYmxlJywndHJ1ZScpXHJcblxyXG5jb25zdCBjcnVpc2VyUHJldmlldyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcbmNydWlzZXJQcmV2aWV3LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY3J1aXNlci1wcmV2aWV3JylcclxuY3J1aXNlclByZXZpZXcuc2V0QXR0cmlidXRlKCdkcmFnZ2FibGUnLCd0cnVlJylcclxuXHJcbiBjb25zdCBzdWJtYXJpbmVQcmV2aWV3ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jylcclxuc3VibWFyaW5lUHJldmlldy5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3N1Ym1hcmluZS1wcmV2aWV3Jylcclxuc3VibWFyaW5lUHJldmlldy5zZXRBdHRyaWJ1dGUoJ2RyYWdnYWJsZScsJ3RydWUnKVxyXG5cclxuIGNvbnN0IGRlc3Ryb3llclByZXZpZXcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG5kZXN0cm95ZXJQcmV2aWV3LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnZGVzdHJveWVyLXByZXZpZXcnKVxyXG5kZXN0cm95ZXJQcmV2aWV3LnNldEF0dHJpYnV0ZSgnZHJhZ2dhYmxlJywndHJ1ZScpXHJcblxyXG5jb25zdCBnZXREcmFnZ2FibGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjb3B0aW9ucyBkaXYnKVxyXG5nZXREcmFnZ2FibGUuZm9yRWFjaChkcmFnZ2FibGVTaGlwcyA9PntcclxuICAgIGRyYWdnYWJsZVNoaXBzLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdlbmQnLCgpPT57XHJcbiAgICB9KVxyXG5cclxuICAgIGRyYWdnYWJsZVNoaXBzLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIChkcmFnZ2FibGVTaGlwcykgPT57XHJcbiAgICAgICAgaWYoYW5nbGUgPT09IDkwKXtkcmFnZ2FibGVTaGlwcy5zdHlsZS50cmFuc2Zvcm0gPSAncm90YXRlKDkwZGVnKSd9IFxyXG4gICAgfSlcclxufSlcclxuXHJcbm9wdGlvbnMuYXBwZW5kKGNhcnJpclByZXZpZXcsYmF0dGxlc2hpcFByZXZpZXcsY3J1aXNlclByZXZpZXcsc3VibWFyaW5lUHJldmlldyxkZXN0cm95ZXJQcmV2aWV3KVxyXG5cclxuY29uc3QgcGxheWVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxucGxheWVyLnNldEF0dHJpYnV0ZSgnaWQnLCAncGxheWVyJylcclxuR2FtZVBhZ2Uuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xyXG5cclxuY29uc3QgcGxheWVyRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxucGxheWVyRGl2LnNldEF0dHJpYnV0ZSgnaWQnLCdwbGF5ZXJEaXYnKVxyXG5wbGF5ZXJEaXYuYXBwZW5kKHBsYXllck5hbWUscGxheWVyLG9wdGlvbnMsYnV0dG9uc0NvbnRhaW5lcilcclxuXHJcbmNvbnN0IGNvbXB1dGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuY29tcHV0ZXIuc2V0QXR0cmlidXRlKCdpZCcsICdjb21wdXRlcicpXHJcblxyXG5zdGFydEdhbWUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCgpPT57XHJcbiAgIGlmKGlucHV0LnZhbHVlLmxlbmd0aCA+IDEpe1xyXG4gICAgaGVhZGVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcclxuICAgIEdhbWVQYWdlLnN0eWxlLmRpc3BsYXkgPSAnZmxleCdcclxuICAgIHBsYXllck5hbWUudGV4dENvbnRlbnQgPSBpbnB1dC52YWx1ZVxyXG59XHJcbn0pXHJcbi8vQ8OzZGlnbyBwYXJhIGNyaWFyIGFzIDEwMCBkaXZzICBlIGNvbG9jYWxhcyBkZW50cm8gZG8gdGFidWxlaXJvICAgIFxyXG5mdW5jdGlvbiBtYWtlUGxheWVyQm9hcmQoKXtcclxuICAgIGZvcihsZXQgaSA9IDA7IGk8MTAwOyBpKyspe1xyXG4gICAgICAgIGxldCBkaXZzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuICAgICAgICBkaXZzLnNldEF0dHJpYnV0ZSgnaWQnLCBbaV0pXHJcbiAgICAgICAgY29uc3Qgc2VsZWN0RGl2cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNwbGF5ZXIgZGl2JylcclxuICAgICAgICBzZWxlY3REaXZzLmZvckVhY2goZGl2ID0+e1xyXG4gICAgICAgICAgICBkaXYuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCBlPT57XHJcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBwbGF5ZXIuYXBwZW5kQ2hpbGQoZGl2cylcclxuICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIGZvcihjb25zdCBlbGVtZW50IG9mIHBsYXllci5jaGlsZHJlbil7XHJcbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsKCk9PntcclxuICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmVkJ1xyXG4gICAgICAgIH0pXHJcbiAgICB9fVxyXG4gICAgbWFrZVBsYXllckJvYXJkKClcclxuXHJcbiAgICBmdW5jdGlvbiBtYWtlQ29tcHV0ZXJCb2FyZCgpe1xyXG4gICAgICAgIFxyXG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGk8MTAwOyBpKyspe1xyXG4gICAgICAgICAgICBsZXQgZGl2cyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcbiAgICAgICAgICAgIGRpdnMuc2V0QXR0cmlidXRlKCdpZCcsIFtpXSlcclxuICAgICAgICAgICAgY29tcHV0ZXIuYXBwZW5kQ2hpbGQoZGl2cylcclxuICAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBmb3IoY29uc3QgZWxlbWVudCBvZiBjb21wdXRlci5jaGlsZHJlbil7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCgpPT57XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdyZWQnXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgbWFrZUNvbXB1dGVyQm9hcmQoKVxyXG5cclxuR2FtZVBhZ2UuYXBwZW5kKHBsYXllckRpdixjb21wdXRlcilcclxuaW5wdXREaXYuYXBwZW5kQ2hpbGQoaW5wdXQpXHJcbmZvcm11bGFyaW8uYXBwZW5kKGlucHV0LHN0YXJ0R2FtZSlcclxuaGVhZGVyLmFwcGVuZChsb2dvLGlucHV0RGl2LGZvcm11bGFyaW8pXHJcblxyXG5ib2R5LmFwcGVuZChoZWFkZXIsR2FtZVBhZ2UpXHJcblxyXG5jbGFzcyBzaGlwRmFjdG9yeXtcclxuICAgIGNvbnN0cnVjdG9yKG5hbWUsbGVuZ2h0KXtcclxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lXHJcbiAgICAgICAgdGhpcy5sZW5ndGggPSBsZW5naHRcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmNvbnN0IGRlc3Ryb3llciA9IG5ldyBzaGlwRmFjdG9yeSgnZGVzdHJveWVyJywyKVxyXG5jb25zdCBzdWJtYXJpbmUgPSBuZXcgc2hpcEZhY3RvcnkoJ3N1Ym1hcmluZScsMylcclxuY29uc3QgY3J1aXNlciA9IG5ldyBzaGlwRmFjdG9yeSgnY3J1aXNlcicsMylcclxuY29uc3QgYmF0dGxlc2hpcCA9IG5ldyBzaGlwRmFjdG9yeSgnYmF0dGxlc2hpcCcsNClcclxuY29uc3QgY2FycmlyID0gbmV3IHNoaXBGYWN0b3J5KCdjYXJyaXInLDUpXHJcblxyXG5cclxuY29uc3Qgc2hpcHMgPSBbZGVzdHJveWVyLCBzdWJtYXJpbmUsIGNydWlzZXIsIGJhdHRsZXNoaXAsY2FycmlyXVxyXG4vL0Fnb3JhIGFkaWNpb25hcmVtb3Mgb3MgYmFyY29zIGFsZWF0w7NyaWFtZW50ZSBhbyB0YWJ1bGVpcm8gZG8gY29tcHV0YWRvclxyXG5cclxuZnVuY3Rpb24gYWRkU2hpcFBpZWNlKHNoaXApe1xyXG4gICAgLy9QZWd1ZSB0b2RvcyBvcyBxdWFkcmFkb3MgZGUgdW0gZG9zIHRhYnVsZWlyb3NcclxuICAgIGNvbnN0IGFsbEJvYXJkQmxvY2tzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI2NvbXB1dGVyIGRpdicpXHJcbiAgICAvL3JhbmRvbUJvbGVhbiByZXRvcm5hIHRydWUgb3UgZmFsc2UgYWxlYXTDs3JpYW1lbnRlXHJcbiAgICBsZXQgcmFuZG9tQm9sZWFuID0gTWF0aC5yYW5kb20oKSA8IDAuNTtcclxuICAgIGxldCBpc0hvcml6b250YWwgPSByYW5kb21Cb2xlYW47XHJcbiAgICBsZXQgcmFuZG9tU3RhcnRJbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMCk7XHJcblxyXG4gICAgbGV0IHZhbGlkU3RhcnQgPSBpc0hvcml6b250YWwgPyByYW5kb21TdGFydEluZGV4IDw9IDEwMCAtIHNoaXAubGVuZ3RoID8gcmFuZG9tU3RhcnRJbmRleCA6IDEwMCAtIHNoaXAubGVuZ3RoIDpcclxuICAgIC8vaGFuZGxlIHZlcnRpY2FsXHJcbiAgICByYW5kb21TdGFydEluZGV4IDw9IDEwMCAtIDEwICogc2hpcC5sZW5ndGggPyByYW5kb21TdGFydEluZGV4IDpcclxuICAgIHJhbmRvbVN0YXJ0SW5kZXggLSBzaGlwLmxlbmd0aCAqIDEwICsgMTAgXHJcblxyXG4gICAgbGV0IHNoaXBCbG9ja3MgPSBbXVxyXG5cclxuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBzaGlwLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICBpZihpc0hvcml6b250YWwpe1xyXG4gICAgICAgICAgICBzaGlwQmxvY2tzLnB1c2goYWxsQm9hcmRCbG9ja3NbTnVtYmVyKHZhbGlkU3RhcnQpICsgaV0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBzaGlwQmxvY2tzLnB1c2goYWxsQm9hcmRCbG9ja3NbTnVtYmVyKHZhbGlkU3RhcnQpICsgaSAqMTAgXSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBsZXQgdmFsaWRcclxuICAgIGlmKGlzSG9yaXpvbnRhbCl7XHJcbiAgICAgICAgc2hpcEJsb2Nrcy5ldmVyeSgoX3NoaXBCbG9jaywgaW5kZXgpID0+IHZhbGlkID0gc2hpcEJsb2Nrc1swXS5pZCAlIDEwICE9PSAxMCAtXHJcbiAgICAgICAgKHNoaXBCbG9ja3MubGVuZ3RoIC0gKGluZGV4ICsgMSkpKVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgc2hpcEJsb2Nrcy5ldmVyeSgoX3NoaXBCbG9jaywgaW5kZXgpID0+IHZhbGlkID0gc2hpcEJsb2Nrc1swXS5pZCA8IDkwICsgKDEwICogaW5kZXggKyAxKSlcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBub3RUYWtlbiA9c2hpcEJsb2Nrcy5ldmVyeShzaGlwQmxvY2sgPT4gIXNoaXBCbG9jay5jbGFzc0xpc3QuY29udGFpbnMoJ3Rha2VuJykpXHJcblxyXG4gICAgaWYodmFsaWQgJiYgbm90VGFrZW4pe1xyXG4gICAgICAgIHNoaXBCbG9ja3MuZm9yRWFjaChzaGlwQmxvY2sgPT57XHJcbiAgICAgICAgICAgIHNoaXBCbG9jay5jbGFzc0xpc3QuYWRkKHNoaXAubmFtZSlcclxuICAgICAgICAgICAgc2hpcEJsb2NrLmNsYXNzTGlzdC5hZGQoJ3Rha2VuJylcclxuICAgICAgICB9KVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBhZGRTaGlwUGllY2Uoc2hpcClcclxuICAgIH1cclxuXHJcbiAgICBcclxufVxyXG5cclxuc2hpcHMuZm9yRWFjaCggc2hpcCA9PiBhZGRTaGlwUGllY2Uoc2hpcCkpXHJcbiJdLCJuYW1lcyI6WyJib2R5IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImhlYWRlciIsImNyZWF0ZUVsZW1lbnQiLCJsb2dvIiwic3JjIiwiZm9ybXVsYXJpbyIsImFjdGlvbiIsIm1ldGhvZCIsImlucHV0RGl2Iiwic2V0QXR0cmlidXRlIiwiaW5wdXQiLCJ0eXBlIiwicmVxdWlyZWQiLCJzdGFydEdhbWUiLCJ0ZXh0Q29udGVudCIsIkdhbWVQYWdlIiwicGxheWVyTmFtZSIsIm9wdGlvbnMiLCJmbGlwQnV0dG9uIiwic3RhcnRCdXR0b24iLCJidXR0b25zQ29udGFpbmVyIiwiYXBwZW5kIiwiYW5nbGUiLCJhZGRFdmVudExpc3RlbmVyIiwib3B0aW9uU2hpcHMiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsIm9wdGlvblNoaXAiLCJzdHlsZSIsInRyYW5zZm9ybSIsImNhcnJpclByZXZpZXciLCJiYXR0bGVzaGlwUHJldmlldyIsImNydWlzZXJQcmV2aWV3Iiwic3VibWFyaW5lUHJldmlldyIsImRlc3Ryb3llclByZXZpZXciLCJkcmFnZ2FibGVTaGlwcyIsInBsYXllciIsImRpc3BsYXkiLCJwbGF5ZXJEaXYiLCJjb21wdXRlciIsInZhbHVlIiwibGVuZ3RoIiwiaSIsImRpdnMiLCJkaXYiLCJlIiwicHJldmVudERlZmF1bHQiLCJhcHBlbmRDaGlsZCIsImVsZW1lbnQiLCJjaGlsZHJlbiIsImJhY2tncm91bmRDb2xvciIsIm1ha2VQbGF5ZXJCb2FyZCIsIm1ha2VDb21wdXRlckJvYXJkIiwic2hpcEZhY3RvcnkiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJsZW5naHQiLCJ0aGlzIiwiYWRkU2hpcFBpZWNlIiwic2hpcCIsImFsbEJvYXJkQmxvY2tzIiwidmFsaWQiLCJpc0hvcml6b250YWwiLCJNYXRoIiwicmFuZG9tIiwicmFuZG9tU3RhcnRJbmRleCIsImZsb29yIiwidmFsaWRTdGFydCIsInNoaXBCbG9ja3MiLCJwdXNoIiwiTnVtYmVyIiwiZXZlcnkiLCJfc2hpcEJsb2NrIiwiaW5kZXgiLCJpZCIsIm5vdFRha2VuIiwic2hpcEJsb2NrIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJhZGQiXSwic291cmNlUm9vdCI6IiJ9